<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get decomposing nodes — decompose • XploRer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get decomposing nodes — decompose" />
<meta property="og:description" content="Get attribute values from the nodes that are decomposing a node (e.g. the growing
units decomposing an axis).
Get attribute values from the nodes that are decomposing a node (e.g. the growing
units decomposing an axis)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">XploRer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/XploRer.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/VEZY/XploRer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get decomposing nodes</h1>
    <small class="dont-index">Source: <a href='https://github.com/VEZY/XploRer/blob/master/R/decompose.R'><code>R/decompose.R</code></a>, <a href='https://github.com/VEZY/XploRer/blob/master/R/mtg_getters_shortcuts.R'><code>R/mtg_getters_shortcuts.R</code></a></small>
    <div class="hidden name"><code>decompose.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get attribute values from the nodes that are decomposing a node (e.g. the growing
units decomposing an axis).</p>
<p>Get attribute values from the nodes that are decomposing a node (e.g. the growing
units decomposing an axis).</p>
    </div>

    <pre class="usage"><span class='fu'>decompose</span>(
  <span class='no'>attribute</span>,
  <span class='kw'>node</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>filter_fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)

<span class='fu'>decompose</span>(
  <span class='no'>attribute</span>,
  <span class='kw'>node</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>filter_fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>attribute</th>
      <td><p>Any node attribute (as a character)</p></td>
    </tr>
    <tr>
      <th>node</th>
      <td><p>The MTG node</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>An integer vector for filtering the <code>.scale</code> of the decomposing nodes (i.e. the SCALE
column from the MTG classes).</p></td>
    </tr>
    <tr>
      <th>symbol</th>
      <td><p>A character vector for filtering the decomposing nodes by the name of their <code>.symbol</code> (i.e. the SYMBOL
column from the MTG classes).</p></td>
    </tr>
    <tr>
      <th>filter_fun</th>
      <td><p>Any filtering function taking a node as input.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The attribute values from the nodes decomposing the input node</p>
<p>The attribute values from the nodes decomposing the input node</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is mainly used to summarize attributes at a higher scale when they were measured
at a lower scale. For example we can think of an mtg where the length was measured at the internode scale only,
so this function can be used to summarize it at e.g. axis scale. The filters are used to get the nodes of interest only.
For example an axis can be made of internodes and leaves, but the length of an axis is made from the cumulative
length of the internodes only (not the leaves). A second example would be to summarize the total leaf area per axis, where
we would only want to use the area of the leaves (not the internodes).</p>
<p>This function is mainly used to summarize attributes at a higher scale when they were measured
at a lower scale. For example we can think of an mtg where the length was measured at the internode scale only,
so this function can be used to summarize it at e.g. axis scale. The filters are used to get the nodes of interest only.
For example an axis can be made of internodes and leaves, but the length of an axis is made from the cumulative
length of the internodes only (not the leaves). A second example would be to summarize the total leaf area per axis, where
we would only want to use the area of the leaves (not the internodes).</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function is mainly intended to be used with <code><a href='mutate_mtg.html'>mutate_mtg()</a></code>. In this case,
the <code>node</code> argument can be left empty (or you can put <code>node = node</code> equivalently).</p>
<p>This function is mainly intended to be used with <code><a href='mutate_mtg.html'>mutate_mtg()</a></code>. In this case,
the <code>node</code> argument can be left empty (or you can put <code>node = node</code> equivalently).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>filepath</span><span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"simple_plant_3.mtg"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"XploRer"</span>)
<span class='no'>MTG</span> <span class='kw'>=</span> <span class='fu'><a href='read_MTG.html'>read_mtg</a></span>(<span class='no'>filepath</span>)

<span class='fu'>decompose</span>(<span class='st'>".symbol"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='fu'><a href='extract_node.html'>extract_node</a></span>(<span class='no'>MTG</span>,<span class='st'>"node_3"</span>), <span class='kw'>decomp_type</span> <span class='kw'>=</span> <span class='st'>"symbol"</span>)</div><div class='output co'>#&gt;      node_4      node_5      node_9 
#&gt; "Internode"      "Leaf" "Internode" </div><div class='input'>
<span class='co'># using filters to remove nodes that we don't need:</span>
<span class='fu'>decompose</span>(<span class='st'>".symbol"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='fu'><a href='extract_node.html'>extract_node</a></span>(<span class='no'>MTG</span>,<span class='st'>"node_3"</span>), <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='st'>"Internode"</span>, <span class='kw'>decomp_type</span> <span class='kw'>=</span> <span class='st'>"symbol"</span>)</div><div class='output co'>#&gt;      node_4      node_9 
#&gt; "Internode" "Internode" </div><div class='input'>
<span class='co'># We can check the function worked well by printing the symbols of each nodes:</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>MTG</span>$<span class='no'>MTG</span>, <span class='st'>".symbol"</span>)</div><div class='output co'>#&gt;                              levelName    .symbol
#&gt; 1  node_1                                   Scene
#&gt; 2   °--node_2                          Individual
#&gt; 3       °--node_3                            Axis
#&gt; 4           °--node_4                   Internode
#&gt; 5               ¦--node_5                    Leaf
#&gt; 6               ¦--node_6                    Axis
#&gt; 7               ¦   °--node_7           Internode
#&gt; 8               ¦       °--node_8            Leaf
#&gt; 9               °--node_9               Internode
#&gt; 10                  °--node_10               Axis
#&gt; 11                      °--node_11      Internode
#&gt; 12                          °--node_12       Leaf</div><div class='input'>
<span class='no'>filepath</span><span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"simple_plant_3.mtg"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"XploRer"</span>)
<span class='no'>MTG</span> <span class='kw'>=</span> <span class='fu'><a href='read_MTG.html'>read_mtg</a></span>(<span class='no'>filepath</span>)

<span class='fu'><a href='https://rdrr.io/r/graphics/axis.html'>axis</a></span>(<span class='kw'>attribute</span> <span class='kw'>=</span> <span class='st'>"length"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='fu'><a href='extract_node.html'>extract_node</a></span>(<span class='no'>MTG</span>,<span class='st'>"node_3"</span>), <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='st'>"Leaf"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in axis(attribute = "length", node = extract_node(MTG, "node_3"),     symbol = "Leaf"): argument "side" is missing, with no default</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/axis.html'>axis</a></span>(<span class='kw'>attribute</span> <span class='kw'>=</span> <span class='st'>"name"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='fu'><a href='extract_node.html'>extract_node</a></span>(<span class='no'>MTG</span>,<span class='st'>"node_3"</span>), <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='st'>"Internode"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in axis(attribute = "name", node = extract_node(MTG, "node_3"),     symbol = "Internode"): argument "side" is missing, with no default</span></div><div class='input'>
<span class='co'># The MTG has two leaves (node_5 and node_7):</span>
<span class='fu'><a href='leaves.html'>leaves</a></span>(<span class='st'>"Length"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='no'>MTG</span>$<span class='no'>MTG</span>)</div><div class='output co'>#&gt;  node_5  node_8 node_12 
#&gt;      NA      10      10 </div><div class='input'><span class='co'># We can check the function worked well by printing the symbols of each nodes:</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>MTG</span>$<span class='no'>MTG</span>, <span class='st'>".symbol"</span>)</div><div class='output co'>#&gt;                              levelName    .symbol
#&gt; 1  node_1                                   Scene
#&gt; 2   °--node_2                          Individual
#&gt; 3       °--node_3                            Axis
#&gt; 4           °--node_4                   Internode
#&gt; 5               ¦--node_5                    Leaf
#&gt; 6               ¦--node_6                    Axis
#&gt; 7               ¦   °--node_7           Internode
#&gt; 8               ¦       °--node_8            Leaf
#&gt; 9               °--node_9               Internode
#&gt; 10                  °--node_10               Axis
#&gt; 11                      °--node_11      Internode
#&gt; 12                          °--node_12       Leaf</div><div class='input'>
<span class='co'># If we need the terminal Internodes:</span>
<span class='fu'><a href='leaves.html'>leaves</a></span>(<span class='st'>"Length"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='no'>MTG</span>$<span class='no'>MTG</span>, <span class='kw'>symbol</span> <span class='kw'>=</span> <span class='st'>"Internode"</span>)</div><div class='output co'>#&gt;  node_7 node_11 
#&gt;       4       4 </div><div class='input'>
<span class='co'># Or the leaves at a given scale:</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>MTG</span>$<span class='no'>MTG</span>, <span class='st'>".scale"</span>)</div><div class='output co'>#&gt;                              levelName .scale
#&gt; 1  node_1                                  NA
#&gt; 2   °--node_2                               1
#&gt; 3       °--node_3                           2
#&gt; 4           °--node_4                       3
#&gt; 5               ¦--node_5                   3
#&gt; 6               ¦--node_6                   2
#&gt; 7               ¦   °--node_7               3
#&gt; 8               ¦       °--node_8           3
#&gt; 9               °--node_9                   3
#&gt; 10                  °--node_10              2
#&gt; 11                      °--node_11          3
#&gt; 12                          °--node_12      3</div><div class='input'><span class='fu'><a href='leaves.html'>leaves</a></span>(<span class='st'>"Length"</span>, <span class='kw'>node</span> <span class='kw'>=</span> <span class='no'>MTG</span>$<span class='no'>MTG</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt;  node_6 node_10 
#&gt;      NA      NA </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Remi Vezy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


